<%- include('partials/header') -%>
<div class="container">
  <div class="row mt-5">
      <div class="container">
          <div class="container">
              <p><strong>User Name</strong>: <%= user.userName %></p>
              <p><strong>Email</strong>: <%= user.email %></p>
              <a href="/logout" class="btn btn-primary">Logout</a>
          </div>

          <div class="container mt-5">
            <a class="btn btn-primary" href="/post/allposts">All Highlights</a>
            <button type="button" class="btn btn-primary" id="getRandom">
              Remind Me!
            </button>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
              Add a Highlight
            </button>
        </div>

          <!-- Modal -->
          <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content bg-dark">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="staticBackdropLabel">Add a Highlight</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div class="mb-4">
                    <form action="/post/createPost" enctype="multipart/form-data" method="POST">
                      <div class="mb-3">
                          <label for="from" class="form-label">From</label>
                          <input type="text" class="form-control" id="from" name="from">
                      </div>
                      <div class="mb-3">
                        <label for="note" class="form-label">Note</label>
                        <textarea class="form-control" id="note" name="note"></textarea>
                      </div>
                      <div class="mb-3">
                        <label for="category" class="form-label">Category</label>
                        <input type="text" class="form-control" id="category" name="category">
                    </div>
                      <div class="mb-3">
                        <label for="imgUpload" class="form-label">Image</label>
                        <input type="file" class="form-control" id="imageUpload" name="file">
                      </div>
                      <button type="submit" class="btn btn-primary" value="Upload">Submit</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
      </div>
      <!-- <div class="col-6">
        <ul class="row list-unstyled">
        <% for(var i=0; i<posts.length; i++) {%>
          <li class="col-6 justify-content-between mt-5">
            <a href="/post/<%= posts[i]._id%>">
              <h2><%= posts[i].from%></h2>
              <img class="img-fluid" src="<%= posts[i].image%>">
            </a>
          </li>
        <% } %>
        </ul>  
      </div>   -->
      
      <div class="container mb-3">
        <div class="container-fluid mt-5">
          <% if(post) { %>
            <div class="card bg-warning text-dark">
              <div class="card-header" id="date">
                <%= post.createdAt %>
              </div>
              <div class="card-body px-4 py-3">
                <blockquote class="blockquote mb-0">
                  <p id="postNote"><%= post.note %></p>
                  <footer class="blockquote-footer mt-3"><span id="postFrom"><%= post.from %></span></footer>
                </blockquote>
              </div>
            </div>
          <% } %>
        </div>
      </div>
      
    </div>
  </div>
</div>
<%- include('partials/footer') -%>